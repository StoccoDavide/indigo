% +--------------------------------------------------------------------------+
% | 'Indigo' module version 1.0 - BSD 3-Clause License - Copyright (c) 2023  |
% | Current version authors:                                                 |
% |   Davide Stocco and Enrico Bertolazzi.                                   |
% +--------------------------------------------------------------------------+

% Matlab generated code for implicit system: Pendulum
% This file has been automatically generated by Indigo.
% DISCLAIMER: If you need to edit it, do it wisely!

classdef Pendulum < Indigo.Systems.SemiExplicit
  %
  % No class description provided.
  %
  properties (SetAccess = protected, Hidden = true)
    % User data
    m_m = 1.0;
    m_g = 9.81;
    m_ell = 1.0;
  end
  %
  methods
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function this = Pendulum( varargin )
      % Class constructor.

      % Superclass constructor
      num_eqns = 5;
      num_veil = 0;
      num_invs = 3;
      this = this@Indigo.Systems.SemiExplicit('Pendulum', num_eqns, num_veil, num_invs);

      % User data
      if (nargin == 0)
        % Keep default values
      elseif (nargin == 1 && isstruct(varargin{1}))
        this.m_m = varargin{1}.m;
        this.m_g = varargin{1}.g;
        this.m_ell = varargin{1}.ell;
      elseif (nargin == 3)
        this.m_m = varargin{1};
        this.m_g = varargin{2};
        this.m_ell = varargin{3};
      else
        error('wrong number of input arguments.');
      end
    end % Pendulum
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_A = A( this, in_1, in_2, t )
      % Evaluate the matrix A.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      out_1_1 = 1;
      out_2_1 = 0;
      out_3_1 = 0;
      out_4_1 = 0;
      out_5_1 = 0;
      out_1_2 = 0;
      out_2_2 = 1;
      out_3_2 = 0;
      out_4_2 = 0;
      out_5_2 = 0;
      out_1_3 = 0;
      out_2_3 = 0;
      out_3_3 = 1;
      out_4_3 = 0;
      out_5_3 = 0;
      out_1_4 = 0;
      out_2_4 = 0;
      out_3_4 = 0;
      out_4_4 = 1;
      out_5_4 = 0;
      out_1_5 = 0;
      out_2_5 = 0;
      out_3_5 = 0;
      out_4_5 = 0;
      t1 = x ^ 2;
      t2 = y ^ 2;
      out_5_5 = t1 + t2;

      % Store outputs
      out_A = zeros(5, 5);
      out_A(1, 1) = out_1_1;
      out_A(2, 1) = out_2_1;
      out_A(3, 1) = out_3_1;
      out_A(4, 1) = out_4_1;
      out_A(5, 1) = out_5_1;
      out_A(1, 2) = out_1_2;
      out_A(2, 2) = out_2_2;
      out_A(3, 2) = out_3_2;
      out_A(4, 2) = out_4_2;
      out_A(5, 2) = out_5_2;
      out_A(1, 3) = out_1_3;
      out_A(2, 3) = out_2_3;
      out_A(3, 3) = out_3_3;
      out_A(4, 3) = out_4_3;
      out_A(5, 3) = out_5_3;
      out_A(1, 4) = out_1_4;
      out_A(2, 4) = out_2_4;
      out_A(3, 4) = out_3_4;
      out_A(4, 4) = out_4_4;
      out_A(5, 4) = out_5_4;
      out_A(1, 5) = out_1_5;
      out_A(2, 5) = out_2_5;
      out_A(3, 5) = out_3_5;
      out_A(4, 5) = out_4_5;
      out_A(5, 5) = out_5_5;
    end % A
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_TA_x = TA_x( this, in_1, in_2, t )
      % Evaluate the tensor of A with respect to x.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      out_1_1_1 = 0;
      out_2_1_1 = 0;
      out_3_1_1 = 0;
      out_4_1_1 = 0;
      out_5_1_1 = 0;
      out_1_2_1 = 0;
      out_2_2_1 = 0;
      out_3_2_1 = 0;
      out_4_2_1 = 0;
      out_5_2_1 = 0;
      out_1_3_1 = 0;
      out_2_3_1 = 0;
      out_3_3_1 = 0;
      out_4_3_1 = 0;
      out_5_3_1 = 0;
      out_1_4_1 = 0;
      out_2_4_1 = 0;
      out_3_4_1 = 0;
      out_4_4_1 = 0;
      out_5_4_1 = 0;
      out_1_5_1 = 0;
      out_2_5_1 = 0;
      out_3_5_1 = 0;
      out_4_5_1 = 0;
      out_5_5_1 = 2 * x;
      out_1_1_2 = 0;
      out_2_1_2 = 0;
      out_3_1_2 = 0;
      out_4_1_2 = 0;
      out_5_1_2 = 0;
      out_1_2_2 = 0;
      out_2_2_2 = 0;
      out_3_2_2 = 0;
      out_4_2_2 = 0;
      out_5_2_2 = 0;
      out_1_3_2 = 0;
      out_2_3_2 = 0;
      out_3_3_2 = 0;
      out_4_3_2 = 0;
      out_5_3_2 = 0;
      out_1_4_2 = 0;
      out_2_4_2 = 0;
      out_3_4_2 = 0;
      out_4_4_2 = 0;
      out_5_4_2 = 0;
      out_1_5_2 = 0;
      out_2_5_2 = 0;
      out_3_5_2 = 0;
      out_4_5_2 = 0;
      out_5_5_2 = 2 * y;
      out_1_1_3 = 0;
      out_2_1_3 = 0;
      out_3_1_3 = 0;
      out_4_1_3 = 0;
      out_5_1_3 = 0;
      out_1_2_3 = 0;
      out_2_2_3 = 0;
      out_3_2_3 = 0;
      out_4_2_3 = 0;
      out_5_2_3 = 0;
      out_1_3_3 = 0;
      out_2_3_3 = 0;
      out_3_3_3 = 0;
      out_4_3_3 = 0;
      out_5_3_3 = 0;
      out_1_4_3 = 0;
      out_2_4_3 = 0;
      out_3_4_3 = 0;
      out_4_4_3 = 0;
      out_5_4_3 = 0;
      out_1_5_3 = 0;
      out_2_5_3 = 0;
      out_3_5_3 = 0;
      out_4_5_3 = 0;
      out_5_5_3 = 0;
      out_1_1_4 = 0;
      out_2_1_4 = 0;
      out_3_1_4 = 0;
      out_4_1_4 = 0;
      out_5_1_4 = 0;
      out_1_2_4 = 0;
      out_2_2_4 = 0;
      out_3_2_4 = 0;
      out_4_2_4 = 0;
      out_5_2_4 = 0;
      out_1_3_4 = 0;
      out_2_3_4 = 0;
      out_3_3_4 = 0;
      out_4_3_4 = 0;
      out_5_3_4 = 0;
      out_1_4_4 = 0;
      out_2_4_4 = 0;
      out_3_4_4 = 0;
      out_4_4_4 = 0;
      out_5_4_4 = 0;
      out_1_5_4 = 0;
      out_2_5_4 = 0;
      out_3_5_4 = 0;
      out_4_5_4 = 0;
      out_5_5_4 = 0;
      out_1_1_5 = 0;
      out_2_1_5 = 0;
      out_3_1_5 = 0;
      out_4_1_5 = 0;
      out_5_1_5 = 0;
      out_1_2_5 = 0;
      out_2_2_5 = 0;
      out_3_2_5 = 0;
      out_4_2_5 = 0;
      out_5_2_5 = 0;
      out_1_3_5 = 0;
      out_2_3_5 = 0;
      out_3_3_5 = 0;
      out_4_3_5 = 0;
      out_5_3_5 = 0;
      out_1_4_5 = 0;
      out_2_4_5 = 0;
      out_3_4_5 = 0;
      out_4_4_5 = 0;
      out_5_4_5 = 0;
      out_1_5_5 = 0;
      out_2_5_5 = 0;
      out_3_5_5 = 0;
      out_4_5_5 = 0;
      out_5_5_5 = 0;

      % Store outputs
      out_TA_x = zeros(5, 5, 5);
      out_TA_x(1, 1, 1) = out_1_1_1;
      out_TA_x(2, 1, 1) = out_2_1_1;
      out_TA_x(3, 1, 1) = out_3_1_1;
      out_TA_x(4, 1, 1) = out_4_1_1;
      out_TA_x(5, 1, 1) = out_5_1_1;
      out_TA_x(1, 2, 1) = out_1_2_1;
      out_TA_x(2, 2, 1) = out_2_2_1;
      out_TA_x(3, 2, 1) = out_3_2_1;
      out_TA_x(4, 2, 1) = out_4_2_1;
      out_TA_x(5, 2, 1) = out_5_2_1;
      out_TA_x(1, 3, 1) = out_1_3_1;
      out_TA_x(2, 3, 1) = out_2_3_1;
      out_TA_x(3, 3, 1) = out_3_3_1;
      out_TA_x(4, 3, 1) = out_4_3_1;
      out_TA_x(5, 3, 1) = out_5_3_1;
      out_TA_x(1, 4, 1) = out_1_4_1;
      out_TA_x(2, 4, 1) = out_2_4_1;
      out_TA_x(3, 4, 1) = out_3_4_1;
      out_TA_x(4, 4, 1) = out_4_4_1;
      out_TA_x(5, 4, 1) = out_5_4_1;
      out_TA_x(1, 5, 1) = out_1_5_1;
      out_TA_x(2, 5, 1) = out_2_5_1;
      out_TA_x(3, 5, 1) = out_3_5_1;
      out_TA_x(4, 5, 1) = out_4_5_1;
      out_TA_x(5, 5, 1) = out_5_5_1;
      out_TA_x(1, 1, 2) = out_1_1_2;
      out_TA_x(2, 1, 2) = out_2_1_2;
      out_TA_x(3, 1, 2) = out_3_1_2;
      out_TA_x(4, 1, 2) = out_4_1_2;
      out_TA_x(5, 1, 2) = out_5_1_2;
      out_TA_x(1, 2, 2) = out_1_2_2;
      out_TA_x(2, 2, 2) = out_2_2_2;
      out_TA_x(3, 2, 2) = out_3_2_2;
      out_TA_x(4, 2, 2) = out_4_2_2;
      out_TA_x(5, 2, 2) = out_5_2_2;
      out_TA_x(1, 3, 2) = out_1_3_2;
      out_TA_x(2, 3, 2) = out_2_3_2;
      out_TA_x(3, 3, 2) = out_3_3_2;
      out_TA_x(4, 3, 2) = out_4_3_2;
      out_TA_x(5, 3, 2) = out_5_3_2;
      out_TA_x(1, 4, 2) = out_1_4_2;
      out_TA_x(2, 4, 2) = out_2_4_2;
      out_TA_x(3, 4, 2) = out_3_4_2;
      out_TA_x(4, 4, 2) = out_4_4_2;
      out_TA_x(5, 4, 2) = out_5_4_2;
      out_TA_x(1, 5, 2) = out_1_5_2;
      out_TA_x(2, 5, 2) = out_2_5_2;
      out_TA_x(3, 5, 2) = out_3_5_2;
      out_TA_x(4, 5, 2) = out_4_5_2;
      out_TA_x(5, 5, 2) = out_5_5_2;
      out_TA_x(1, 1, 3) = out_1_1_3;
      out_TA_x(2, 1, 3) = out_2_1_3;
      out_TA_x(3, 1, 3) = out_3_1_3;
      out_TA_x(4, 1, 3) = out_4_1_3;
      out_TA_x(5, 1, 3) = out_5_1_3;
      out_TA_x(1, 2, 3) = out_1_2_3;
      out_TA_x(2, 2, 3) = out_2_2_3;
      out_TA_x(3, 2, 3) = out_3_2_3;
      out_TA_x(4, 2, 3) = out_4_2_3;
      out_TA_x(5, 2, 3) = out_5_2_3;
      out_TA_x(1, 3, 3) = out_1_3_3;
      out_TA_x(2, 3, 3) = out_2_3_3;
      out_TA_x(3, 3, 3) = out_3_3_3;
      out_TA_x(4, 3, 3) = out_4_3_3;
      out_TA_x(5, 3, 3) = out_5_3_3;
      out_TA_x(1, 4, 3) = out_1_4_3;
      out_TA_x(2, 4, 3) = out_2_4_3;
      out_TA_x(3, 4, 3) = out_3_4_3;
      out_TA_x(4, 4, 3) = out_4_4_3;
      out_TA_x(5, 4, 3) = out_5_4_3;
      out_TA_x(1, 5, 3) = out_1_5_3;
      out_TA_x(2, 5, 3) = out_2_5_3;
      out_TA_x(3, 5, 3) = out_3_5_3;
      out_TA_x(4, 5, 3) = out_4_5_3;
      out_TA_x(5, 5, 3) = out_5_5_3;
      out_TA_x(1, 1, 4) = out_1_1_4;
      out_TA_x(2, 1, 4) = out_2_1_4;
      out_TA_x(3, 1, 4) = out_3_1_4;
      out_TA_x(4, 1, 4) = out_4_1_4;
      out_TA_x(5, 1, 4) = out_5_1_4;
      out_TA_x(1, 2, 4) = out_1_2_4;
      out_TA_x(2, 2, 4) = out_2_2_4;
      out_TA_x(3, 2, 4) = out_3_2_4;
      out_TA_x(4, 2, 4) = out_4_2_4;
      out_TA_x(5, 2, 4) = out_5_2_4;
      out_TA_x(1, 3, 4) = out_1_3_4;
      out_TA_x(2, 3, 4) = out_2_3_4;
      out_TA_x(3, 3, 4) = out_3_3_4;
      out_TA_x(4, 3, 4) = out_4_3_4;
      out_TA_x(5, 3, 4) = out_5_3_4;
      out_TA_x(1, 4, 4) = out_1_4_4;
      out_TA_x(2, 4, 4) = out_2_4_4;
      out_TA_x(3, 4, 4) = out_3_4_4;
      out_TA_x(4, 4, 4) = out_4_4_4;
      out_TA_x(5, 4, 4) = out_5_4_4;
      out_TA_x(1, 5, 4) = out_1_5_4;
      out_TA_x(2, 5, 4) = out_2_5_4;
      out_TA_x(3, 5, 4) = out_3_5_4;
      out_TA_x(4, 5, 4) = out_4_5_4;
      out_TA_x(5, 5, 4) = out_5_5_4;
      out_TA_x(1, 1, 5) = out_1_1_5;
      out_TA_x(2, 1, 5) = out_2_1_5;
      out_TA_x(3, 1, 5) = out_3_1_5;
      out_TA_x(4, 1, 5) = out_4_1_5;
      out_TA_x(5, 1, 5) = out_5_1_5;
      out_TA_x(1, 2, 5) = out_1_2_5;
      out_TA_x(2, 2, 5) = out_2_2_5;
      out_TA_x(3, 2, 5) = out_3_2_5;
      out_TA_x(4, 2, 5) = out_4_2_5;
      out_TA_x(5, 2, 5) = out_5_2_5;
      out_TA_x(1, 3, 5) = out_1_3_5;
      out_TA_x(2, 3, 5) = out_2_3_5;
      out_TA_x(3, 3, 5) = out_3_3_5;
      out_TA_x(4, 3, 5) = out_4_3_5;
      out_TA_x(5, 3, 5) = out_5_3_5;
      out_TA_x(1, 4, 5) = out_1_4_5;
      out_TA_x(2, 4, 5) = out_2_4_5;
      out_TA_x(3, 4, 5) = out_3_4_5;
      out_TA_x(4, 4, 5) = out_4_4_5;
      out_TA_x(5, 4, 5) = out_5_4_5;
      out_TA_x(1, 5, 5) = out_1_5_5;
      out_TA_x(2, 5, 5) = out_2_5_5;
      out_TA_x(3, 5, 5) = out_3_5_5;
      out_TA_x(4, 5, 5) = out_4_5_5;
      out_TA_x(5, 5, 5) = out_5_5_5;
    end % TA_x
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_TA_v = TA_v( this, in_1, in_2, t )
      % Evaluate the tensor of A with respect to v.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      % No body

      % Store outputs
      out_TA_v = zeros(5, 5, 0);
    end % TA_v
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_b = b( this, in_1, in_2, t )
      % Calculate the vector b of the explicit system.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      out_1 = u;
      out_2 = v;
      t2 = 0.1e1 / m;
      out_3 = -2 * t2 * lambda * x;
      t6 = y * lambda;
      out_4 = -t2 * (g * m + 2 * t6);
      out_5 = -4 * v * t6 - 0.3e1 / 0.2e1 * v * g * m - 4 * u * x * lambda;

      % Store outputs
      out_b = zeros(5, 1);
      out_b(1) = out_1;
      out_b(2) = out_2;
      out_b(3) = out_3;
      out_b(4) = out_4;
      out_b(5) = out_5;
    end % b
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_Jb_x = Jb_x( this, in_1, in_2, t )
      % Calculate the Jacobian of b with respect to x.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      out_1_1 = 0;
      out_2_1 = 0;
      t1 = 0.1e1 / m;
      out_3_1 = -2 * t1 * lambda;
      out_4_1 = 0;
      out_5_1 = -4 * u * lambda;
      out_1_2 = 0;
      out_2_2 = 0;
      out_3_2 = 0;
      out_4_2 = out_3_1;
      out_5_2 = -4 * lambda * v;
      out_1_3 = 1;
      out_2_3 = 0;
      out_3_3 = 0;
      out_4_3 = 0;
      out_5_3 = -4 * x * lambda;
      out_1_4 = 0;
      out_2_4 = 1;
      out_3_4 = 0;
      out_4_4 = 0;
      out_5_4 = -4 * y * lambda - 0.3e1 / 0.2e1 * g * m;
      out_1_5 = 0;
      out_2_5 = 0;
      out_3_5 = -2 * t1 * x;
      out_4_5 = -2 * t1 * y;
      out_5_5 = -4 * u * x - 4 * v * y;

      % Store outputs
      out_Jb_x = zeros(5, 5);
      out_Jb_x(1, 1) = out_1_1;
      out_Jb_x(2, 1) = out_2_1;
      out_Jb_x(3, 1) = out_3_1;
      out_Jb_x(4, 1) = out_4_1;
      out_Jb_x(5, 1) = out_5_1;
      out_Jb_x(1, 2) = out_1_2;
      out_Jb_x(2, 2) = out_2_2;
      out_Jb_x(3, 2) = out_3_2;
      out_Jb_x(4, 2) = out_4_2;
      out_Jb_x(5, 2) = out_5_2;
      out_Jb_x(1, 3) = out_1_3;
      out_Jb_x(2, 3) = out_2_3;
      out_Jb_x(3, 3) = out_3_3;
      out_Jb_x(4, 3) = out_4_3;
      out_Jb_x(5, 3) = out_5_3;
      out_Jb_x(1, 4) = out_1_4;
      out_Jb_x(2, 4) = out_2_4;
      out_Jb_x(3, 4) = out_3_4;
      out_Jb_x(4, 4) = out_4_4;
      out_Jb_x(5, 4) = out_5_4;
      out_Jb_x(1, 5) = out_1_5;
      out_Jb_x(2, 5) = out_2_5;
      out_Jb_x(3, 5) = out_3_5;
      out_Jb_x(4, 5) = out_4_5;
      out_Jb_x(5, 5) = out_5_5;
    end % Jb_x
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_Jb_v = Jb_v( this, in_1, in_2, t )
      % Calculate the Jacobian of b with respect to v.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      % No body

      % Store outputs
      out_Jb_v = zeros(5, 0);
    end % Jb_v
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_v = v( this, in_1, t )
      % Evaluate the the veils v.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      % No body

      % Store outputs
      out_v = zeros(0, 1);
    end % v
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_Jv_x = Jv_x( this, in_1, in_2, t )
      % Evaluate the Jacobian of v with respect to x.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      % No body

      % Store outputs
      out_Jv_x = zeros(0, 5);
    end % Jv_x
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_h = h( this, in_1, in_2, t )
      % Calculate the residual of the invariants h.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      t1 = ell ^ 2;
      t2 = x ^ 2;
      t3 = y ^ 2;
      out_1 = t1 - t2 - t3;
      out_2 = u * x + v * y;
      t10 = u ^ 2;
      t11 = v ^ 2;
      out_3 = 0.1e1 / m * (lambda * (2 * t2 + 2 * t3) + (g * y - t10 - t11) * m);

      % Store outputs
      out_h = zeros(3, 1);
      out_h(1) = out_1;
      out_h(2) = out_2;
      out_h(3) = out_3;
    end % h
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_Jh_x = Jh_x( this, in_1, in_2, t )
      % Calculate the Jacobian of h with respect to x.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      out_1_1 = -2 * x;
      out_2_1 = u;
      t3 = 0.1e1 / m;
      out_3_1 = 4 * t3 * lambda * x;
      out_1_2 = -2 * y;
      out_2_2 = v;
      out_3_2 = t3 * (g * m + 4 * y * lambda);
      out_1_3 = 0;
      out_2_3 = x;
      out_3_3 = -2 * u;
      out_1_4 = 0;
      out_2_4 = y;
      out_3_4 = -2 * v;
      out_1_5 = 0;
      out_2_5 = 0;
      t12 = x ^ 2;
      t13 = y ^ 2;
      out_3_5 = t3 * (2 * t12 + 2 * t13);

      % Store outputs
      out_Jh_x = zeros(3, 5);
      out_Jh_x(1, 1) = out_1_1;
      out_Jh_x(2, 1) = out_2_1;
      out_Jh_x(3, 1) = out_3_1;
      out_Jh_x(1, 2) = out_1_2;
      out_Jh_x(2, 2) = out_2_2;
      out_Jh_x(3, 2) = out_3_2;
      out_Jh_x(1, 3) = out_1_3;
      out_Jh_x(2, 3) = out_2_3;
      out_Jh_x(3, 3) = out_3_3;
      out_Jh_x(1, 4) = out_1_4;
      out_Jh_x(2, 4) = out_2_4;
      out_Jh_x(3, 4) = out_3_4;
      out_Jh_x(1, 5) = out_1_5;
      out_Jh_x(2, 5) = out_2_5;
      out_Jh_x(3, 5) = out_3_5;
    end % Jh_x
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
    function out_Jh_v = Jh_v( this, in_1, in_2, t )
      % Calculate the Jacobian of h with respect to v.

      % Extract properties
      m = this.m_m;
      g = this.m_g;
      ell = this.m_ell;

      % Extract inputs
      x = in_1(1);
      y = in_1(2);
      u = in_1(3);
      v = in_1(4);
      lambda = in_1(5);

      % Evaluate function
      % No body

      % Store outputs
      out_Jh_v = zeros(3, 0);
    end % Jh_v
    %
    % - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    %
  end
end % Pendulum

% That's All Folks!
